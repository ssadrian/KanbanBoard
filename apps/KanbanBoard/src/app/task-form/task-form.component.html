<form class="task-form" [formGroup]="taskFormGroup" (ngSubmit)="taskFormSubmit()">
  <mat-form-field appearance="fill">
    <mat-label>Titulo</mat-label>

    <input matInput formControlName="title"/>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Lista</mat-label>

    <input matInput formControlName="taskType" [matAutocomplete]="auto"/>

    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let taskType of taskTypes" [value]="taskType">
        {{ taskType }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Fecha fin</mat-label>

    <input matInput formControlName="deadline" [matDatepicker]="picker" readonly/>
    <mat-hint>MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>URL Imagen</mat-label>

    <input matInput formControlName="headerImage"/>
  </mat-form-field>

  <div class="user-group">
    <button mat-flat-button class="btn-add-user" type="button"
            (click)="addNewUserToTask()"
            [disabled]="taskFormGroup.get('users')?.value?.length! >= 2">
      <mat-icon fontIcon="person_add"></mat-icon>
    </button>

    <div class="container-users-group">
      <img *ngFor="let user of taskFormGroup.value.users; index as i"
           [src]="user.img" [alt]="user.alt" [matTooltip]="user.alt + ' - ' + user.nick"
           (click)="removeUserFromTaskAtIndex(i)"/>
    </div>
  </div>

  <button class="btn-save" type="submit" mat-flat-button color="accent">
    Guardar
  </button>

  <button class="btn-reset" type="button" mat-stroked-button color="warn" (click)="resetForm()">
    Destacar cambios
  </button>

  <button
    type="button"
    class="btn-exit"
    mat-flat-button
    color="primary"
    (click)="exitForm()"
  >
    Salir
  </button>
</form>
